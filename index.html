<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="css/bootstrap.min.css" rel="stylesheet" media="screen"><link href="css/starter-template.css" rel="stylesheet" media="screen"></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="container"><div class="navbar-header"><a shape="rect" class="navbar-brand" href="#/home/">Bootstrap Test</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li class="active"><a shape="rect" href="#/home/">Home</a></li><li><a shape="rect" href="#/getting-started/">Getting Started</a></li><li><a shape="rect" href="#/about/">About</a></li><li><a shape="rect" href="#/contact/">Contact</a></li></ul></div></div></div><div style="display: block; "><div class="jumbotron" style="background-color:#ffcc33"><div class="container"><h1>Hoplon</h1><p>A simpler way to program the web.</p><p><a shape="rect" class="btn btn-large btn-primary" href="#/getting-started/">Get started »</a></p></div></div><div class="container"><div class="row"><div class="col-md-4"><h2>Clojure, everywhere.</h2><p>Write everything in Clojure and ClojureScript, clientside and
               serverside. Even the page markup is ClojureScript that is
               evaluated to produce the DOM. Pages can still be written using
               the familiar HTML syntax if desired.</p></div><div class="col-md-4"><h2>Simplicity on the client.</h2><p>Use a spreadsheet-like dataflow programming environment to
               manage client state. Develop basic content-oriented pages and
               complex thick-client applications without descending into
               “callback hell”.</p></div><div class="col-md-4"><h2>Simplicity on the server.</h2><p>Decouple business logic from HTTP-related concerns while
               satisfying complex, fine-grained authorization requirements
               with transparent, performant transfer of Clojure data between
               server and client.</p></div></div><hr><div class="row"><div class="col-md-6"><h2>Overview <small>Hoplon in a nutshell.</small></h2><p>Hoplon provides a number of libraries promoting a simpler
               model for web applications. The project can be divided into
               three main components: the HTML evaluator, the clientside state
               machine, and a serverside RPC server. These components can be
               used together as a full stack, or individually to solve a
               specific problem as a part of another stack.</p><h2>HTML Evaluator <small>Page markup is a program.</small></h2><p>Web applications are not simply documents. Users must be able
               to interact with them and they must interact with backend
               systems. Web application user interfaces share some of the
               properties of documents, though. UIs are built by composing
               elements in a document tree using HTML markup. However, without
               JavaScript this tree cannot actually interact with the user, at
               all.</p><p>The incidental complexity of web application UI development
               comes at the boundary between the DOM and the JavaScript
               environment. There is a fundamental disconnect between the
               literal representation of the DOM (the HTML markup) and the
               dynamic environment (the JavaScript VM). The page markup is
               evaluated and the resulting DOM is accessible from JavaScript,
               but it's a one-way linkage; the markup has no mechanism by which
               it can refer to objects other than built-in primitives (i.e. <em>div</em>, <em>span</em>, etc). The browser's HTML evaluator does not include any means
               of abstraction whatsoever, so there is no literal representation
               for composite forms.</p><p>Hoplon provides a HTML evaluator that closes the loop, unifying
               the page markup and the JavaScript environment. Page markup,
               expressed using either the standard HTML5 syntax or Clojure
               sexps, is evaluated as ClojureScript and the result becomes the
               DOM for the page. HTML tags are simply ClojureScript vars. Of
               course, Hoplon ships with all of the standard HTML5 primitives
               but the evaluation model facilitates the use of custom compound
               elements defined in the environment, too.</p><h2>Components <small>First-class custom DOM elements.</small></h2><p>While there is no shortage of templating systems to create
               blobs of DOM elements, there is no mechanism to create custom
               elements that are composable in any meaningful way. Consider
               the situation where a template engine binds a DOM template to
               some data and returns the filled-in DOM subtree. What happens
               when you append a child to that DOM element? The child gets
               appended to the outermost element in the filled template, which
               is probably not useful at all.</p><p>Hoplon provides facilities for creating real, first-class
               components. That is to say, Hoplon components are first-class
               citizens in the DOM world––they are, essentially, user-defined
               custom DOM elements. They have a literal representation in the
               page markup and they implement the semantics of HTML: setting
               attributes and appending children. When a child is appended to
               a Hoplon component or an attribute is set, either in HTML markup
               or programmatically, the component's implementation is used
               instead of the built-in DOM one. In this way components can be
               built by composing simpler components and those may be used as
               a basis for even more complex components, without running into
               the limitations of template composition.</p><h2>Spreadsheets <small>Client state made simple.</small></h2><p>Remember how awesome spreadsheets are? You never think about
               state when you’re programming a spreadsheet. Instead, you focus
               on values and the formulas that define the relationships between
               them. When a new value is entered into a cell the rest of the 
               spreadsheet updates itself as necessary to maintain the
               correctness of the formulas.</p><p>After a spreadsheet is set up you can link its cells to charts
               and forms to create a user interface that manages its own state,
               automatically. User input flows from forms to input cells.
               Formulas then recompute their values as necessary. These values
               then flow to charts and graphs for the user to view.</p><p>Hoplon applies this crazy, futuristic technology to frontend
               web development. Forgoing the clunky grid metaphor and names
               like <em>A1</em> and <em>B27</em>, Hoplon provides a cell
               reference type. These cells, like cells in a spreadsheet, are
               either updated directly (input cells), or automatically in
               accordance with a formula.</p><h2>Charts and Forms <small>Stateless, automatic UI.</small></h2><p>The purpose of a program's user interface is to transmit input
               from the user to the underlying state model and to present output
               derived from the underlying state model to the user for viewing.</p><p>In a web application the user interface is derived from the page
               markup. User input consists entirely of DOM events: <em>click</em>, <em>change</em>, etc. Output is presented to
               the user by manipulating the properties of DOM elements: adding
               or removing CSS classes, changing the content of text nodes, 
               etc.</p><p>Hoplon provides bindings that can be used to link DOM elements
               to the underlying state model in the same way that charts and
               forms are linked to cells in a spreadsheet. Once the structure
               of the DOM and the linkages between the DOM and cells are
               defined, the user interface manages itself.</p></div><div class="col-md-6"><h2><small>Examples</small></h2><div class="list-group"><div class="list-group-item"><a shape="rect" style="display: none; "></a><h3 class="panel-title">Typical Page</h3><div style="display: block; "><h3 class="panel-title">Typical Page</h3><hr><p>The page can be coded in either ClojureScript or HTML
                     syntax. The compiler can parse either one. It's easy to
                     add a preprocessing step to parse HAML, etc. if desired.</p><p class="text-muted">Using ClojureScript syntax:</p><div class="highlight"><pre><span class="p">(</span><span class="nf">page</span> <span class="s">"foo/bar.html"</span>
  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">my.lib</span> <span class="ss">:as</span> <span class="nv">lib</span><span class="p">]))</span>

<span class="p">(</span><span class="nf">defc</span> <span class="nv">clicks</span> <span class="mi">0</span><span class="p">)</span>

<span class="p">(</span><span class="nf">html</span>
  <span class="p">(</span><span class="nf">head</span>
    <span class="p">(</span><span class="nf">title</span> <span class="s">"Hello World"</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">link</span> <span class="ss">:rel</span> <span class="s">"stylesheet"</span> <span class="ss">:href</span> <span class="s">"css/main.css"</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">body</span>
    <span class="p">(</span><span class="nf">lib/heading-large</span> <span class="s">"Hello, world!"</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">p</span> <span class="p">(</span><span class="nf">text</span> <span class="s">"You've clicked ~{clicks} times."</span><span class="p">))</span>
    <span class="p">(</span><span class="nf">button</span> <span class="ss">:on-click</span> <span class="o">#</span><span class="p">(</span><span class="nf">swap!</span> <span class="nv">clicks</span> <span class="nv">inc</span><span class="p">)</span> <span class="s">"Click me!"</span><span class="p">)))</span>
</pre></div><p class="text-muted">Using HTML syntax:</p><div class="highlight"><pre><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">"text/hoplon"</span><span class="nt">&gt;</span>
  (page "foo/bar.html"
    (:require [my.lib :as lib]))

  (defc clicks 0)
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"css/main.css"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;lib.heading-large&gt;</span>Hello, world!<span class="nt">&lt;/lib.heading-large&gt;</span>
    <span class="nt">&lt;p&gt;&lt;text&gt;</span>You've clicked ~{clicks} times.<span class="nt">&lt;/text&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">on-click=</span><span class="s">"{{ #(swap! clicks inc) }}"</span><span class="nt">&gt;</span>
      Click me!
    <span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div></div></div><div class="list-group-item"><a shape="rect" style="display: inline; "></a><h3 class="panel-title">BMI Calculator</h3><div style="display: none; "><h3 class="panel-title">BMI Calculator</h3><hr><p class="text-muted">The demo:</p><div class="panel panel-default"><div class="panel-body"><div><form enctype="application/x-www-form-urlencoded" method="get"><div class="form-group"><label>Height (180 cm)</label><input type="range" class="form-control" id="bmi-ht" min="0" max="250" value="180"></div><div class="form-group"><label>Weight (80.0 kg)</label><input type="range" class="form-control" id="bmi-wt" min="0" max="1500" value="800"></div><div class="form-group"><label>BMI 24.7 (normal)</label><input readonly="readonly" type="range" class="form-control" min="0" max="500" style="background-color: inherit; "></div></form></div></div></div><p class="text-muted">The cells:</p><div class="highlight"><pre><span class="p">(</span><span class="k">def </span><span class="nv">height</span> <span class="p">(</span><span class="nf">cell</span> <span class="mi">180</span><span class="p">))</span> <span class="c1">; height in cm</span>
<span class="p">(</span><span class="k">def </span><span class="nv">weight</span> <span class="p">(</span><span class="nf">cell</span> <span class="mi">80</span><span class="p">))</span>  <span class="c1">; weight in kg</span>

<span class="p">(</span><span class="k">def </span><span class="nv">bmi</span> <span class="c1">; body mass index, description, color</span>
  <span class="p">(</span><span class="nf">cell=</span>
    <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">htm</span> <span class="p">(</span><span class="nb">/ </span><span class="nv">height</span> <span class="mi">100</span><span class="p">)</span> <span class="c1">; height in meters</span>
          <span class="nv">bmi</span> <span class="p">(</span><span class="nb">/ </span><span class="nv">weight</span> <span class="p">(</span><span class="nb">* </span><span class="nv">htm</span> <span class="nv">htm</span><span class="p">))]</span>
      <span class="p">(</span><span class="nb">cond </span><span class="p">(</span><span class="nb">&lt; </span><span class="nv">bmi</span> <span class="mf">18.5</span><span class="p">)</span> <span class="p">[</span><span class="nv">bmi</span> <span class="s">"underweight"</span>  <span class="s">"orange"</span><span class="p">]</span>
            <span class="p">(</span><span class="nb">&lt; </span><span class="nv">bmi</span> <span class="mf">25.0</span><span class="p">)</span> <span class="p">[</span><span class="nv">bmi</span> <span class="s">"normal"</span>      <span class="s">"inherit"</span><span class="p">]</span>
            <span class="p">(</span><span class="nb">&lt; </span><span class="nv">bmi</span> <span class="mf">30.0</span><span class="p">)</span> <span class="p">[</span><span class="nv">bmi</span> <span class="s">"overweight"</span>   <span class="s">"orange"</span><span class="p">]</span>
            <span class="ss">:else</span>        <span class="p">[</span><span class="nv">bmi</span> <span class="s">"obese"</span>           <span class="s">"red"</span><span class="p">]))))</span>
</pre></div><p class="text-muted">The user interface:</p><div class="highlight"><pre><span class="c1">;; Some details related to &lt;input type="range"&gt;</span>
<span class="c1">;; have been omitted for clarity.</span>
<span class="p">(</span><span class="nf">form</span>
  <span class="p">(</span><span class="nf">label</span> <span class="p">(</span><span class="nf">text</span> <span class="s">"Height (~{height} cm)"</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">input</span>
    <span class="ss">:id</span> <span class="s">"bmi-h"</span>
    <span class="ss">:value</span> <span class="o">@</span><span class="nv">height</span>
    <span class="ss">:on-change</span> <span class="o">#</span><span class="p">(</span><span class="nf">reset!</span> <span class="nv">height</span> <span class="p">(</span><span class="nf">val-id</span> <span class="s">"bmi-h"</span><span class="p">)))</span>

  <span class="p">(</span><span class="nf">label</span> <span class="p">(</span><span class="nf">text</span> <span class="s">"Weight (~{weight} kg)"</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">input</span>
    <span class="ss">:id</span> <span class="s">"bmi-w"</span>
    <span class="ss">:value</span> <span class="o">@</span><span class="nv">weight</span>
    <span class="ss">:on-change</span> <span class="o">#</span><span class="p">(</span><span class="nf">reset!</span> <span class="nv">weight</span> <span class="p">(</span><span class="nf">val-id</span> <span class="s">"bmi-w"</span><span class="p">)))</span>

  <span class="p">(</span><span class="nf">label</span> <span class="p">(</span><span class="nf">text</span> <span class="s">"BMI ~(first bmi) (~(second bmi))"</span><span class="p">))</span>
  <span class="p">(</span><span class="nf">input</span>
    <span class="ss">:do-value</span> <span class="p">(</span><span class="nf">cell=</span> <span class="p">(</span><span class="nb">first </span><span class="nv">bmi</span><span class="p">))</span>
    <span class="ss">:do-css</span> <span class="p">(</span><span class="nf">cell=</span> <span class="p">{</span><span class="ss">:background-color</span> <span class="p">(</span><span class="nb">nth </span><span class="nv">bmi</span> <span class="mi">2</span><span class="p">)})))</span>
</pre></div></div></div><div class="list-group-item"><a shape="rect" class="topfix"></a><a shape="rect" style="display: inline; "></a><h3 class="panel-title">List Component</h3><div style="display: none; "><h3 class="panel-title">List Component</h3><hr><p class="text-muted">The demo:</p><div class="panel panel-default"><div class="panel-body"><div><p>See the list component below.</p><hr><div class="my-list"><b>Items:</b><ul><li><span>item one</span></li><li><span>item two</span></li><li><span>item three</span></li></ul></div></div></div></div><p class="text-muted">The component constructor:</p><div class="highlight"><pre><span class="c1">;; Define custom element &lt;my-list&gt;.</span>
<span class="p">(</span><span class="nf">defelem</span> <span class="nv">my-list</span> <span class="p">[</span><span class="nv">attrs</span> <span class="nv">children</span><span class="p">]</span>
  <span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">head</span> <span class="p">(</span><span class="nf">b</span><span class="p">)</span>  <span class="c1">; Obtain references to inner</span>
        <span class="nv">body</span> <span class="p">(</span><span class="nf">ul</span><span class="p">)</span> <span class="c1">; container elements.</span>
        <span class="nv">this</span> <span class="p">(</span><span class="nf">div</span> <span class="ss">:class</span> <span class="s">"my-list"</span> <span class="p">(</span><span class="nf">head</span><span class="p">)</span> <span class="p">(</span><span class="nf">body</span><span class="p">))]</span>
    <span class="c1">;; Implement appendChild/setAttribute.</span>
    <span class="p">(</span><span class="nf">on-append!</span> <span class="nv">this</span> 
      <span class="p">(</span><span class="k">fn </span><span class="p">[{</span><span class="ss">:keys</span> <span class="p">[</span><span class="nv">title</span><span class="p">]</span> <span class="ss">:as</span> <span class="nv">attrs</span><span class="p">}</span> <span class="nv">children</span><span class="p">]</span>
        <span class="c1">;; The "title" attribute sets title text.</span>
        <span class="p">(</span><span class="nb">when </span><span class="nv">title</span> <span class="p">(</span><span class="nf">do!</span> <span class="nv">head</span> <span class="ss">:text</span> <span class="nv">title</span><span class="p">))</span>
        <span class="c1">;; Other attributes are set on outer div.</span>
        <span class="p">(</span><span class="nf">add-attributes!</span> <span class="nv">this</span> <span class="p">(</span><span class="nb">dissoc </span><span class="nv">attrs</span> <span class="ss">:title</span><span class="p">))</span>
        <span class="c1">;; Children are wrapped in &lt;li&gt;s and</span>
        <span class="c1">;; appended to inner &lt;ul&gt; element.</span>
        <span class="p">(</span><span class="nb">apply </span><span class="nv">body</span> <span class="p">(</span><span class="nb">map </span><span class="nv">li</span> <span class="nv">children</span><span class="p">))))</span>
    <span class="c1">;; Initialize element.</span>
    <span class="p">(</span><span class="nb">apply </span><span class="nv">this</span> <span class="nv">attrs</span> <span class="nv">children</span><span class="p">)))</span>
</pre></div><p class="text-muted">The page markup:</p><div class="highlight"><pre><span class="p">(</span><span class="nf">div</span>
  <span class="p">(</span><span class="nf">p</span> <span class="s">"See the list component below."</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">hr</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">my-list</span>
    <span class="ss">:title</span> <span class="s">"Items:"</span>
    <span class="p">(</span><span class="nf">span</span> <span class="s">"item one"</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">span</span> <span class="s">"item two"</span><span class="p">)</span>
    <span class="p">(</span><span class="nf">span</span> <span class="s">"item three"</span><span class="p">)))</span>
</pre></div></div></div></div></div></div><hr><footer style="padding:30px 0px;">Copyright 100</footer></div></div><div class="container" style="display: none; "><div class="row"><div class="col-md-2"></div><div class="col-md-8"><div class="page-header"><h1>Hello World</h1></div><p>Hoplon is a set of libraries for making web pages.</p></div><div class="col-md-2"></div></div><div class="row"><div class="col-md-2" style="text-align:right"><p><b>This is what the code does.</b></p></div><div class="col-md-8"><div class="panel panel-default"><div class="panel-heading">Example:</div><div class="panel-body">Foo bar.</div></div><div class="highlight"><pre><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">"text/hoplon"</span><span class="nt">&gt;</span>
  (page index.html)
  
  (defn my-list [<span class="err">&amp;</span> items]
    (div
      :class "my-list"
      (apply ul (map #(li (div :class "my-list-item" %)) items))))

  (def clicks (cell 0))
<span class="nt">&lt;/script&gt;</span>
    
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>example page<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Hello, Hoplon<span class="nt">&lt;/h1&gt;</span>
    
    <span class="nt">&lt;my-list&gt;</span>
      <span class="nt">&lt;span&gt;</span>first thing<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;span&gt;</span>second thing<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/my-list&gt;</span>

    <span class="nt">&lt;p&gt;&lt;text&gt;</span>You've clicked ~{clicks} times, so far.<span class="nt">&lt;/text&gt;&lt;/p&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">on-click=</span><span class="s">"{{ #(swap! clicks inc) }}"</span><span class="nt">&gt;</span>click me<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div><hr><footer style="padding:30px 0px;">Copyright 100</footer></div><div class="col-md-2"><p>asdf</p></div></div></div><div class="container" style="display: none; "><h1>About</h1><p>This is the about content.</p></div><div class="container" style="display: none; "><h1>Contact</h1><p>This is the contact content.</p></div><script type="text/javascript">var CLOSURE_NO_DEPS = true;</script><script type="text/javascript" src="main.js"></script><script type="text/javascript">tailrecursion.hoplon.app_pages.G__291354.hoploninit();</script></body></html>